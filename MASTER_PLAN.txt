COPY OF WARP PLAN: ba6e11a7-e4b8-4be1-b34a-4d74f3e99688
Repo: tito-pdf
Last updated: 2026-02-12

High-level objective
- Align convenience-mode outputs with the TITO folder layout:
  - deliverables to md/
  - intermediates to sessions/ only with --keep-sessions
- Keep explicit-output mode strict (write only to requested paths).
- Keep the recovery pack up to date (START_HERE.txt, AGENTS.md, MASTER_PLAN.txt).

Current state (what matters)
- Entrypoints:
  - Repo script: ./tito-pdf
  - Installed binary: tito-pdf (via installers)
- Output styles:
  - Explicit output mode: uses --md-out/--tables-out/etc and writes ONLY to those paths (no extra folders).
  - Convenience mode: writes deliverables to <out-dir>/md/ using:
    - md/<id>.retrieve.md
    - md/<id>.retrieve.tables.md
    - --keep-sessions preserves intermediates in sessions/run-YYYYMMDD_HHMMSS/
- Installers:
  - macOS/Linux: install/install.sh
  - Windows: install/install.ps1
- Tests:
  - tests/smoke/tito_pdf_smoke.sh (deterministic end-to-end test against the installed binary)
- Docs:
  - README.md (quickstart)
  - docs/ (GitHub Pages)
  - AGENTS.md (stable orientation)

What’s completed (unambiguous)
- Implemented TITO-aligned convenience-mode output layout (md/ + sessions/ via --keep-sessions).
- Updated smoke test for the new contract.
- Updated docs to match the contract (README.md + docs/ + AGENTS.md).
- Verified:
  - sudo ./install/install.sh
  - ./tests/smoke/tito_pdf_smoke.sh
  - Processed a real PDF in ~/github/projects/AR-S2P2T/ref/ (see START_HERE.txt).

What’s pending (with “done” criteria)
- Optional: add deeper tests.
  - Done when: there is a repeatable command documented in START_HERE (even if it’s still “smoke-only”).
- Optional: docs rendering check.
  - Done when: GitHub Pages renders and links work for the main docs pages.
- Optional: decide what to do with legacy tracked artifacts under md/ and sessions/.
  - Done when: either the legacy artifacts are removed/moved, or it is explicitly accepted as "samples" and new outputs are kept out of commits.

Known risks / important decisions
- `tito` is not part of this repo. If `tito --help` shows env-var-looking defaults, it’s a different tool.
- Output naming is part of the contract:
  - Convenience mode: md/<id>.retrieve.md and md/<id>.retrieve.tables.md
  - Explicit output mode must not create extra folders.
- Launcher scripts must forward arguments at runtime ("$@").
- Avoid CRLF line endings in *.sh (breaks macOS/Linux).

References
- START_HERE.txt (operational status + exact commands)
- AGENTS.md (stable orientation + contracts)
- README.md (human quickstart)
- docs/ (GitHub Pages manual)
- Source: tito-pdf
- Smoke tests: tests/smoke/tito_pdf_smoke.sh
